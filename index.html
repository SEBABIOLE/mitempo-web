<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MiTempo.app | Asistente IA y Automatizaciones para Profesionales</title>
  <meta name="description" content="MiTempo.app: Tu asistente con IA y automatizaciones para profesionales. Organiza tu agenda, registra gastos y optimiza procesos desde WhatsApp.">
  <meta name="keywords" content="asistente IA, automatización, WhatsApp, gestión de agenda, finanzas personales">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
    .brand-green { color: #10B981; }
    .bg-brand-green { background-color: #10B981; }
    .hover\:bg-brand-green-dark:hover { background-color: #059669; }
    .border-brand-green { border-color: #10B981; }
    .fade-in-section { opacity: 0; transform: translateY(20px); transition: opacity 0.6s, transform 0.6s; }
    .fade-in-section.is-visible { opacity: 1; transform: translateY(0); }
    .phone-mockup { width:280px;height:560px;background:#111827;border-radius:40px;border:12px solid #1f2937;box-shadow:0 25px 50px -12px rgba(0,0,0,0.4);overflow:hidden; }
    .phone-screen { background:url('https://images.unsplash.com/photo-1554147090-e1221a04a025?q=80&w=500') center/cover; display:flex;flex-direction:column;padding:20px; width:100%;height:100%; }
    .chat-bubble { padding:8px 14px;border-radius:18px;margin-bottom:8px;max-width:75%;opacity:0;animation:bubble-pop 0.5s forwards; }
    .chat-bubble.user { background:#25D366;color:#fff;align-self:flex-end; }
    .chat-bubble.assistant { background:#fff;color:#1f2937;align-self:flex-start; }
    @keyframes bubble-pop { 0%{transform:scale(0.5);opacity:0;}80%{transform:scale(1.05);}100%{transform:scale(1);opacity:1;} }
    .modal { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:1000; }
    .modal-content { background:#fff; padding:2rem; border-radius:.5rem; max-width:500px; width:90%; animation:slide-up .3s; }
    .close { position:absolute; top:1rem; right:1rem; cursor:pointer; font-size:1.5rem; color:#6b7280; }
    @keyframes slide-up { from{transform:translateY(20px);opacity:0;} to{transform:translateY(0);opacity:1;} }
    input:invalid:focus { border-color:#ef4444; box-shadow:0 0 0 2px rgba(239,68,68,0.2); }
    .error-text { color:#ef4444; font-size:.875rem; }
    .mobile-nav { transition:transform .3s; }
    .mobile-nav-hidden { transform:translateX(100%); }
  </style>
</head>
<body class="text-gray-800">

  <!-- HEADER -->
  <header class="bg-white/80 backdrop-blur fixed inset-x-0 top-0 z-50 border-b border-gray-200">
    <div class="container mx-auto flex items-center justify-between px-6 py-3">
      <a href="#"><img src="./logo-mitempo.png" alt="MiTempo" class="h-12"
        onerror="this.src='https://via.placeholder.com/150x50?text=MiTempo'"></a>
      <nav class="mobile-nav fixed inset-y-0 right-0 w-64 bg-white shadow-lg md:static md:flex md:space-x-6 md:shadow-none md:w-auto md:transform-none mobile-nav-hidden">
        <button class="md:hidden absolute top-4 right-4" aria-label="Cerrar menú" onclick="toggleNav()">&times;</button>
        <div class="flex flex-col md:flex-row md:space-x-6 p-6 md:p-0">
          <a href="#soluciones" class="hover:text-brand-green">Soluciones</a>
          <a href="#planes" class="hover:text-brand-green">Planes</a>
          <a href="#faq" class="hover:text-brand-green">FAQ</a>
          <button id="openFormBtn" class="bg-brand-green text-white px-4 py-2 rounded hover:bg-brand-green-dark"
                  onclick="openModal('Prueba')">Probar Gratis</button>
        </div>
      </nav>
      <button class="md:hidden" aria-label="Abrir menú" onclick="toggleNav()">☰</button>
    </div>
  </header>

  <!-- MAIN -->
  <main class="pt-20">

    <!-- HERO -->
    <section class="text-center py-20 bg-white">
      <div class="container mx-auto px-6">
        <h1 class="text-4xl md:text-6xl font-bold mb-6">Tu Asistente con IA y <span class="text-brand-green">Automatizaciones</span></h1>
        <p class="mb-8 text-lg text-gray-600">Desde organizar tu agenda por WhatsApp hasta automatizar procesos clave.</p>
        <button id="openFormBtnMain" class="bg-brand-green text-white px-8 py-4 rounded-xl hover:bg-brand-green-dark"
                onclick="openModal('Prueba')">Empezar Gratis →</button>
        <div class="mt-16 flex justify-center">
          <div class="phone-mockup">
            <div class="phone-screen">
              <div class="chat-bubble user">Hola! Gasté 2000 en nafta</div>
              <div class="chat-bubble assistant">¡Registrado! Gasto de $2000 en "Nafta".</div>
              <div class="chat-bubble user">Agendá médico el lunes a las 10</div>
              <div class="chat-bubble assistant">Agendado: "Médico". Te enviaré un recordatorio.</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SOLUCIONES -->
    <section id="soluciones" class="py-20 fade-in-section">
      <div class="container mx-auto px-6 text-center mb-12">
        <h2 class="text-3xl font-bold">Soluciones a tu Medida</h2>
        <p class="text-gray-600 mt-2">Tanto para tu día a día como para tu negocio.</p>
      </div>
      <div class="container mx-auto px-6 grid md:grid-cols-2 gap-8">
        <div class="p-8 bg-white rounded shadow border-t-4 border-brand-green">
          <h3 class="text-2xl font-bold mb-2">Asistente por WhatsApp</h3>
          <p>Registro de gastos, agendado de eventos y recordatorios.</p>
          <a href="#planes" class="text-brand-green font-semibold">Ver planes →</a>
        </div>
        <div class="p-8 bg-white rounded shadow border-t-4 border-blue-500">
          <h3 class="text-2xl font-bold mb-2">Automatizaciones</h3>
          <p>CRM y flujos de trabajo a medida para PYMES y profesionales.</p>
          <a href="#contacto" class="text-blue-500 font-semibold">Consultar →</a>
        </div>
      </div>
    </section>

    <!-- PLANES -->
    <section id="planes" class="py-20 bg-white fade-in-section">
      <div class="container mx-auto px-6 text-center mb-12">
        <h2 class="text-3xl font-bold">Planes del Asistente</h2>
        <p class="text-gray-600 mt-2">Comenzá gratis y crecé a tu ritmo.</p>
      </div>
      <div class="container mx-auto px-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        <!-- Bronce -->
        <div class="flex flex-col p-6 bg-white rounded shadow">
          <h3 class="text-xl font-bold text-amber-600">🥉 Bronce</h3>
          <p class="flex-grow text-gray-600 mt-2">Agendado básico y recordatorios.</p>
          <p class="font-bold my-4">💰 $3 USD/mes</p>
          <button class="mt-auto bg-gray-200 py-3 rounded hover:bg-gray-300"
                  onclick="openModal('Bronce')">Probar</button>
        </div>
        <!-- Plata -->
        <div class="flex flex-col p-6 bg-white rounded shadow">
          <h3 class="text-xl font-bold text-gray-500">🥈 Plata</h3>
          <p class="flex-grow text-gray-600 mt-2">Lenguaje natural y Google Calendar.</p>
          <p class="font-bold my-4">💰 $5 USD/mes</p>
          <button class="mt-auto bg-gray-800 text-white py-3 rounded hover:bg-gray-900"
                  onclick="openModal('Plata')">Elegir</button>
        </div>
        <!-- Oro -->
        <div class="relative flex flex-col p-6 bg-white rounded-2xl shadow-2xl border-2 border-brand-green">
          <span class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-brand-green text-white px-3 py-1 text-xs rounded-full">RECOMENDADO</span>
          <h3 class="text-xl font-bold text-brand-green mt-4">🥇 Oro</h3>
          <p class="flex-grow text-gray-600 mt-2">Agenda + finanzas + reportes y recomendaciones.</p>
          <p class="font-bold my-4">💰 $10 USD/mes</p>
          <button class="mt-auto bg-brand-green text-white py-3 rounded hover:bg-brand-green-dark"
                  onclick="openModal('Oro')">Elegir</button>
        </div>
        <!-- Duo -->
        <div class="flex flex-col p-6 bg-white rounded shadow">
          <h3 class="text-xl font-bold text-blue-500">👥 Duo</h3>
          <p class="flex-grow text-gray-600 mt-2">Hasta 2 usuarios con finanzas sincronizadas.</p>
          <p class="font-bold my-4">💰 $10 USD/mes</p>
          <button class="mt-auto bg-gray-800 text-white py-3 rounded hover:bg-gray-900"
                  onclick="openModal('Duo')">Elegir</button>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="py-20 fade-in-section">
      <div class="container mx-auto px-6 max-w-3xl text-center mb-12">
        <h2 class="text-3xl font-bold">Preguntas Frecuentes</h2>
      </div>
      <div class="container mx-auto px-6 space-y-4" id="faq-accordion"></div>
    </section>

    <!-- CONTACTO -->
    <section id="contacto" class="py-20 bg-white fade-in-section">
      <div class="container mx-auto px-6 text-center">
        <div class="max-w-3xl mx-auto bg-gray-50 p-8 rounded shadow">
          <h2 class="text-3xl font-bold mb-4">¿Necesitás una solución a medida?</h2>
          <p class="text-gray-600 mb-6">Hablemos de tu proyecto y proponte la mejor automatización.</p>
          <a href="mailto:contacto@mitempo.app" class="bg-blue-600 text-white px-8 py-4 rounded font-bold hover:bg-blue-700">Contactar por email</a>
        </div>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer class="bg-gray-900 text-gray-400 py-12">
    <div class="container mx-auto text-center px-6">
      <img src="./logo-mitempo.png" alt="MiTempo" class="mx-auto h-12 mb-4"
           onerror="this.src='https://via.placeholder.com/150x50?text=MiTempo'">
      <div class="flex justify-center space-x-6 mb-6">
        <a href="./politicas.html" class="hover:text-white">Política de privacidad</a>
        <a href="./terminos.html" class="hover:text-white">Términos de uso</a>
        <a href="mailto:contacto@mitempo.app" class="hover:text-white">Contacto</a>
      </div>
      <p>© 2025 MiTempo.app. Todos los derechos reservados.</p>
    </div>
  </footer>

  <!-- MODAL FORM -->
  <div id="formModal" class="modal">
    <div class="modal-content">
      <button id="closeModal" class="close" aria-label="Cerrar modal">&times;</button>
      <h2 class="text-2xl font-bold mb-6">Regístrate para tu prueba gratis</h2>
      <form id="registrationForm"
            action="https://script.google.com/macros/s/AKfycbyUlxTBDGgok7CaeVv6lhLCSq_NKDN0e7Z9auMtM7NiA0MH4ahnPp3pENJZPzXzVGUBxA/exec"
            method="POST"
            class="space-y-4">
        <div>
          <label for="fullName" class="block text-sm font-medium">Nombre y Apellido *</label>
          <input type="text" id="fullName" name="fullName" required
                 class="w-full px-3 py-2 border rounded focus:ring-2 focus:ring-brand-green">
          <p id="fullName-error" class="error-text hidden">Ingrese un nombre válido.</p>
        </div>
        <div>
          <label for="phone" class="block text-sm font-medium">WhatsApp *</label>
          <input type="tel" id="phone" name="phone" required placeholder="+549112345678"
                 class="w-full px-3 py-2 border rounded focus:ring-2 focus:ring-brand-green">
          <p id="phone-error" class="error-text hidden">Número inválido.</p>
        </div>
        <div>
          <label for="email" class="block text-sm font-medium">Email *</label>
          <input type="email" id="email" name="email" required
                 class="w-full px-3 py-2 border rounded focus:ring-2 focus:ring-brand-green">
          <p id="email-error" class="error-text hidden">Email inválido.</p>
        </div>
        <div>
          <label for="plan" class="block text-sm font-medium">Plan *</label>
          <select id="plan" name="plan" required
                  class="w-full px-3 py-2 border rounded focus:ring-2 focus:ring-brand-green">
            <option value="Prueba">Prueba</option>
            <option value="Bronce">Bronce</option>
            <option value="Plata">Plata</option>
            <option value="Oro">Oro</option>
            <option value="Duo">Duo</option>
          </select>
        </div>
        <div>
          <label for="invitedBy" class="block text-sm font-medium">Invitado por (solo Duo)</label>
          <input type="tel" id="invitedBy" name="invitedBy"
                 class="w-full px-3 py-2 border rounded focus:ring-2 focus:ring-brand-green"
                 placeholder="+549112345678">
          <p id="invitedBy-error" class="error-text hidden">Requerido para Duo.</p>
        </div>
        <button type="submit" id="submitButton"
                class="w-full bg-brand-green text-white py-2 rounded hover:bg-brand-green-dark">
          Enviar
        </button>
      </form>
      <p id="mensaje" class="mt-4 text-center text-sm"></p>
    </div>
  </div>

  <!-- SCRIPTS -->
  <script>
    // Menú móvil
    function toggleNav() {
      document.querySelector('.mobile-nav').classList.toggle('mobile-nav-hidden');
    }

    // Fade-in
    document.querySelectorAll('.fade-in-section').forEach(sec => {
      new IntersectionObserver((entries, obs) => {
        entries.forEach(e => {
          if (e.isIntersecting) {
            e.target.classList.add('is-visible');
            obs.unobserve(e.target);
          }
        });
      }, {threshold: .1}).observe(sec);
    });

    // FAQ
    const faqData = [
      {q:"¿Funciona con cualquier WhatsApp?", a:"Sí, cualquier número funciona."},
      {q:"¿Es seguro?", a:"Tus datos encriptados, privacidad garantizada."},
      {q:"¿Instalo algo?", a:"Nada, funciona directo en WhatsApp."},
      {q:"¿Fin prueba?", a:"Te avisamos antes y podés exportar tus datos."}
    ];
    const faqContainer = document.getElementById('faq-accordion');
    faqData.forEach((f,i) => {
      const div = document.createElement('div');
      div.className = 'bg-white rounded shadow border';
      div.innerHTML = `
        <button class="faq-toggle flex justify-between w-full p-6 font-semibold" aria-expanded="false">
          ${f.q}
          <svg class="w-6 h-6 transform transition-transform" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
        </button>
        <div class="faq-content max-h-0 overflow-hidden transition-all duration-500 text-gray-600 p-6 pt-0">
          ${f.a}
        </div>`;
      faqContainer.appendChild(div);
    });
    document.querySelectorAll('.faq-toggle').forEach(btn => {
      btn.addEventListener('click', () => {
        const content = btn.nextElementSibling, icon = btn.querySelector('svg');
        const open = !!content.style.maxHeight;
        document.querySelectorAll('.faq-content').forEach(c=>{
          c.style.maxHeight = null;
          c.previousElementSibling.setAttribute('aria-expanded','false');
          c.previousElementSibling.querySelector('svg').style.transform='rotate(0deg)';
        });
        if (!open) {
          content.style.maxHeight = content.scrollHeight + 'px';
          icon.style.transform = 'rotate(180deg)';
          btn.setAttribute('aria-expanded','true');
        }
      });
    });

    // Modal & Form
    const modal = document.getElementById('formModal'),
          openBtns = ['openFormBtn','openFormBtnMain','openFormBtnPlan1','openFormBtnPlan2','openFormBtnPlan3','openFormBtnPlan4']
                     .map(id=>document.getElementById(id)),
          closeBtn = document.getElementById('closeModal'),
          form = document.getElementById('registrationForm'),
          msg = document.getElementById('mensaje'),
          submitBtn = document.getElementById('submitButton'),
          fields = {phone: 'phone-error', email: 'email-error', fullName: 'fullName-error', invitedBy: 'invitedBy-error'},
          planInput = document.getElementById('plan');

    openBtns.forEach(b=> b && b.addEventListener('click', () => {
      modal.style.display = 'flex';
      planInput.value = b.dataset.plan || 'Prueba';
    }));
    closeBtn.addEventListener('click', closeModal);
    window.addEventListener('click', e=> e.target===modal && closeModal());
    function closeModal(){
      modal.style.display='none';
      form.reset();
      msg.textContent='';
      Object.values(fields).forEach(id=> document.getElementById(id).classList.add('hidden'));
    }

    // Real-time validation
    form.phone?.addEventListener('input', ()=> toggleErr('phone', /^\+?[1-9]\d{9,14}$/.test(form.phone.value)));
    form.email?.addEventListener('input', ()=> toggleErr('email', /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(form.email.value)));
    form.fullName?.addEventListener('input', ()=> toggleErr('fullName', form.fullName.value.trim().length>=2));
    function toggleErr(f, valid){
      document.getElementById(fields[f]).classList.toggle('hidden', valid);
    }

    // Submit
    form.addEventListener('submit', async e=>{
      e.preventDefault();
      msg.style.color='inherit'; msg.textContent='Enviando...'; submitBtn.disabled=true;
      const data = Object.fromEntries(new FormData(form).entries());

      // Final checks
      if (!/^\+?[1-9]\d{9,14}$/.test(data.phone)) return showErr('phone','Número inválido');
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(data.email)) return showErr('email','Email inválido');
      if (data.fullName.trim().length<2) return showErr('fullName','Nombre inválido');
      if (data.plan==='Duo' && !data.invitedBy.trim()) return showErr('invitedBy','Requerido para Duo');

      // Send
      try {
        const res = await fetch(form.action, {
          method:'POST',
          body: new URLSearchParams(data),
          headers:{ 'Content-Type':'application/x-www-form-urlencoded' }
        });
        const json = await res.json();
        if (res.ok && json.success) {
          closeModal();
          msg.style.color='green';
          msg.textContent = '✅ ¡Registro enviado correctamente!';
        } else {
          msg.style.color='red';
          msg.textContent = json.message || '❌ Error al enviar.';
        }
      } catch(err) {
        msg.style.color='red';
        msg.textContent = '❌ Error de conexión, intenta de nuevo.';
      } finally {
        submitBtn.disabled = false;
      }
    });

    function showErr(f,text){
      msg.style.color='red'; msg.textContent = text;
      document.getElementById(fields[f]).classList.remove('hidden');
      submitBtn.disabled=false;
    }
  </script>
</body>
</html>
